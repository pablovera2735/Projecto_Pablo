<div class="settings-wrapper">
  <div class="settings-card">

    <div *ngIf="alertMessage" [ngClass]="{
      'alert': true,
      'success': alertType === 'success',
      'error': alertType === 'error'
    }">
      {{ alertMessage }}
    </div>

    <h2>Ajustes de cuenta</h2>

    <div class="settings-section">
      <h3>Actualizar correo electrónico</h3>
      <p>Correo actual: {{ currentEmail }}</p>

      <label for="newEmail">Nuevo correo</label>
      <input id="newEmail" [(ngModel)]="newEmail" type="email" placeholder="Introduce tu nuevo correo" />

      <button (click)="requestEmailChangeCode()" [disabled]="codeRequested">
        Solicitar código de verificación
      </button>

      <div *ngIf="codeRequested">
        <label for="verificationCode">Código de verificación</label>
        <input id="verificationCode" [(ngModel)]="verificationCode" type="text" placeholder="Introduce el código" />
        <button (click)="confirmEmailChange()">Confirmar cambio</button>
      </div>
    </div>

    <hr class="separator" />

    <div class="settings-section">
      <h3>Actualizar contraseña</h3>

      <label for="currentPassword">Contraseña actual</label>
      <input id="currentPassword" [(ngModel)]="currentPassword" type="password" placeholder="Introduce tu contraseña actual" />

      <label for="newPassword">Nueva contraseña</label>
      <input id="newPassword" [(ngModel)]="newPassword" type="password" placeholder="Introduce nueva contraseña" />

      <label for="confirmPassword">Confirmar nueva contraseña</label>
      <input id="confirmPassword" [(ngModel)]="confirmPassword" type="password" placeholder="Confirma nueva contraseña" />

      <button (click)="updatePassword()">Actualizar contraseña</button>

      <div class="back-button-wrapper">
        <button class="back-button" (click)="goBack()">Volver al menú</button>
      </div>
    </div>
  </div>
</div>
